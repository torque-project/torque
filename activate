
# set source paths for bootstrap phase
export REV_SOURCE_PATH=lib/core/src:lib/analyzer/src:lib/reader/src:lib/io/src/:lib/compiler/src

OS=`uname -s`
ARCH=`uname -p`

# set path to include architecture directory
export PATH=$PATH:"$PWD/target/$OS-$ARCH/bin:$PWD/bin"

if [ "$OS" = "Darwin" ]; then
  if ! [ -x $(command -v brew &> /dev/null) ];
  then
    echo "homebrew could not be found. if you don't want to install dependencies via homebrew, you have to build llvm and readline yourself, and set LLVM_PATH yourself."
  else
    echo TEST
    export LLVM_PATH=$(brew --prefix llvm@18)
  fi

  export DYLD_LIBRARY_PATH=$LLVM_PATH/lib:$PWD/target/Darwin-arm/lib
fi
